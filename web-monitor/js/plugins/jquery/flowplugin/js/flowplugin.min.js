!function(e){e.fn.flowplugin=function(a){a=e.extend({jsonDate:[],imgPath:"img/",imgType:"png"},a);var t='<div class="flowSwrap"><div class="hidden-line flow-line"></div></div>',n='<div id="CELL_ID" class="flowCell"><div class="cell-center"></div><div class="cell-right"></div></div>';function l(l){if(null!=a.jsonDate&&null!=a.jsonDate.data&&0!=a.jsonDate.data.length){var o,c,d=a.jsonDate.data,s=d.length;l.append(t),e.each(d,function(t,l){var i=void 0==l.createDate||null==l.createDate?"":l.createDate,o=void 0==l.jobName||null==l.jobName?"":l.jobName,c=void 0==l.jobOther||null==l.jobOther?"":l.jobOther.split(/,/),d=void 0==l.jobImgName||null==l.jobImgName||""==l.jobImgName?"f1":l.jobImgName,s=a.imgPath+d+"."+a.imgType,r="cell_"+t,p=n.replace("CELL_ID",r);e(".flowSwrap").append(p);var h='<img id="img'+t+'" src="'+s+'"/>';e("#"+r+" .cell-center").append(h);var f=0==t?'<p class="t1_start">'+o+"</p>":'<p class="t1">'+o+"</p>",g=e("#"+r+" .cell-right");g.append(f),e.each(c,function(e,a){var t,n='<p class="t2">'+(null==(t=a)?"":t.replace(/@[0-9]*@/,function(e){var a=e.substring(1,e.length-1);return"<a href='tel:"+a+"'>"+a+"</a>"}))+"</p>";g.append(n)});g.append('<p class="t3">'+i+"</p>"),0==t?g.addClass("fc-orange"):g.addClass("fc-grey")}),s>1&&(c=e(".cell-center img")).length>1&&e.each(c,function(a,t){var n=t.id;0!=a&&function(a,t,n){var l=document.createElement("div");e(l).addClass("flow-line");var i=e(".hidden-line").width(),o=t.y-n.y-n.h,c=n.y+n.h,d=n.x+n.w/2-i/2;e(l).css({position:"absolute",height:o,top:c,left:d}),e(l).appendTo(a)}(".flowSwrap",i(n),o),o=i(n)})}}function i(a){return{x:e("#"+a).position().left,y:e("#"+a).position().top,w:e("#"+a).width(),h:e("#"+a).height()}}return e.each(this,function(){l(e(this))})}}(jQuery);